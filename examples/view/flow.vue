<style lang="less">
</style>

<template>
  <div>
    <BraceEditor
      v-model="value"
      lang="javascript"
      theme="eclipse"
      style="min-width: 300px;width:400px;min-height: 50px;margin-bottom: 20px;"
    />

    <BraceEditor
      v-model="nodeMapStr"
      lang="javascript"
      theme="eclipse"
      style="min-width: 300px;width:400px;min-height: 200px;"
    />

    <Flow :value="value" :nodeMap="nodeMap" />
  </div>
</template>

<script>
  import 'brace/mode/javascript';
  import 'brace/theme/eclipse';

  export default {
    name: 'flow-demo',
    components: { },
    data() {
      return {
        value: '1&2&(3|(4|5)) & 6 & 7',
        nodeMapStr: JSON.stringify([
          { value: '1', label: 'è¿›å…¥æ”¶é“¶å°', status: true },
          { value: '2', label: 'è¾“å…¥é‡‘é¢', status: false },
          { value: '3', label: 'ä¸éªŒåˆ¸' },
          { value: '4', label: 'éªŒç¾å›¢åˆ¸' },
          { value: '5', label: 'éªŒæŠ–éŸ³åˆ¸' },
          { value: '6', label: 'æ”¯ä»˜' },
          { value: '7', label: 'è®¢å•å®Œæˆ', status: true },
        ], null, 2),
      };
    },
    computed: {
      nodeMap() {
        try {
          return JSON.parse(this.nodeMapStr)
        } catch (error) {
          console.log("ğŸš€ ~ nodeMap ~ error:", error)
          return []
        }
      }
    }
  };
</script>
